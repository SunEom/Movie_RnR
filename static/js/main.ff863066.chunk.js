(this.webpackJsonpmovie_rnr=this.webpackJsonpmovie_rnr||[]).push([[0],{44:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(1),n=a.n(s),c=a(20),o=a.n(c),l=(a(44),a(3)),i=a.n(l),d=a(6),u=a(2),b=a(4),m=a(9),x=function(e){var t=e.onSubmit,a=e.onChange;return Object(r.jsxs)("form",{className:"pt-2 relative -top-1 text-gray-600 flex items-center mr-10",onSubmit:t,children:[Object(r.jsx)("input",{className:"border-b-2 border-gray bg-gray-dark placeholder-gray plcaeholder h-10 pl-3 pr-10  text-base focus:outline-none",type:"text",name:"search",placeholder:"Search",onChange:a}),Object(r.jsx)("button",{type:"submit",className:"h-10 absolute right-2",children:Object(r.jsx)("i",{className:"fas fa-search"})})]})},j=function(){var e=Object(b.e)(),t=Object(s.useState)(""),a=Object(u.a)(t,2),n=a[0],c=a[1];return Object(r.jsx)(x,{onSubmit:function(t){t.preventDefault(),e.push({pathname:"/search/".concat(n)})},onChange:function(e){c(e.target.value)}})},h=function(e){var t=e.user,a=e.onClick,s=e.onLogout,c=Object(b.e)(),o=n.a.useState(!1),l=Object(u.a)(o,2),i=l[0],d=l[1],x="px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75";return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("nav",{className:"relative flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg bg-gray-dark mb-3",children:Object(r.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(r.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(r.jsx)(m.b,{className:"header text-xl font-medium leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white font-MyFont",to:"/",children:"Movie R&R \ud83c\udfac"}),Object(r.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return d(!i)},children:Object(r.jsx)("i",{className:"fas fa-bars"})})]}),t?Object(r.jsx)("div",{className:"lg:flex flex-grow items-center"+(i?" flex":" hidden"),id:"example-navbar-danger",children:Object(r.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(j,{})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsxs)(m.b,{className:x,to:"/profile",children:[Object(r.jsx)("i",{className:"fas fa-user-cog text-lg leading-lg text-white opacity-75"}),Object(r.jsx)("span",{className:"ml-2",children:"My page"})]})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsxs)(m.b,{className:x,to:"/create",children:[Object(r.jsx)("i",{className:"far fa-plus-square text-lg leading-lg text-white opacity-75"}),Object(r.jsx)("span",{className:"ml-2",children:"Posting"})]})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsxs)("button",{className:x,onClick:function(){a(s),c.push({pathname:"/"})},children:[Object(r.jsx)("i",{className:"fas fa-sign-out-alt text-lg leading-lg text-white opacity-75"}),Object(r.jsx)("span",{className:"ml-2",children:"Log out"})]})})]})}):Object(r.jsx)("div",{className:"lg:flex flex-grow items-center"+(i?" flex":" hidden"),id:"example-navbar-danger",children:Object(r.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(j,{})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsxs)(m.b,{className:x,to:"/login",children:[Object(r.jsx)("i",{className:"fas fa-sign-in-alt text-lg leading-lg text-white opacity-75"}),Object(r.jsx)("span",{className:"ml-2",children:"Log in"})]})})]})})]})})})},f=a(15),p=a(5),g=a.n(p),O=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/auth/logout"),{withCredentials:!0}).then((function(){t()})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(f.b)((function(e){return{user:e.user,onClick:O}}),(function(e){return{onLogout:function(){e({type:"LOGOUT"})}}}))(h),v=a(16),y=a(7),N=function(e){var t=e.onChange,a=e.onSubmit,s=e.onCheck,n=e.overview;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"heading text-center font-bold text-2xl m-5 text-gray-800",children:"New Post"}),Object(r.jsxs)("form",{onSubmit:a,className:"editor mx-auto w-10/12 flex flex-col rounded text-gray-800 border border-gray-dark p-4 shadow-lg max-w-2xl",children:[Object(r.jsx)("input",{name:"title",className:"title bg-gray-100 border border-gray-dark p-2 mb-4 outline-none",spellCheck:"false",placeholder:"Title",type:"text",onChange:t}),Object(r.jsxs)("div",{className:"bg-gray-200 text-sm mt-3 mb-6 ",children:[Object(r.jsx)("span",{className:"mb-3",children:"Genres"}),Object(r.jsxs)("div",{className:"mt-2 flex flex-wrap items-center",children:[Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap",children:[Object(r.jsx)("input",{type:"checkbox",name:"Romance",className:"form-checkbox h-5 w-5 text-gray-600",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Romance"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Action",className:"form-checkbox h-5 w-5 text-red-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Action"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Comedy",className:"form-checkbox h-5 w-5 text-orange-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Comedy"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Historical",className:"form-checkbox h-5 w-5 text-yellow-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Historical"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Horror",className:"form-checkbox h-5 w-5 text-green-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Horror"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Sci-Fi",className:"form-checkbox h-5 w-5 text-teal-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Sci-Fi"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Thriller",className:"form-checkbox h-5 w-5 text-teal-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Thriller"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Mystery",className:"form-checkbox h-5 w-5 text-teal-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Mystery"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Animation",className:"form-checkbox h-5 w-5 text-teal-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Animation"})]}),Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap flex items-center mt-2",children:[Object(r.jsx)("input",{type:"checkbox",name:"Drama",className:"form-checkbox h-5 w-5 text-teal-600 ",onChange:s}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:"Drama"})]})]})]}),Object(r.jsxs)("div",{className:"bg-gray-200 text-sm mt-3 mb-6 flex flex-col",children:[Object(r.jsx)("span",{className:"mb-2",children:"Rates"}),Object(r.jsx)("input",{type:"number",name:"rates",className:"w-1/3 border border-gray-dark pl-2 py-1",min:0,max:10,placeholder:"* / 10",onChange:t,step:.1})]}),Object(r.jsx)("textarea",{name:"overview",className:"description bg-gray-100 sec p-3 h-60 border border-gray-dark outline-none h-320",spellCheck:"false",placeholder:"This movie is ...",onChange:t,maxLength:300}),Object(r.jsx)("div",{className:"icons flex text-gray-500 m-2",children:Object(r.jsxs)("div",{className:"count ml-auto text-gray-400 text-xs font-semibold",children:[n.length,"/300"]})}),Object(r.jsxs)("div",{className:"buttons flex",children:[Object(r.jsx)("button",{className:"btn border border-gray-dark p-1 px-4 font-semibold cursor-pointer text-gray-500 ml-auto",children:"Cancel"}),Object(r.jsx)("button",{type:"submit",className:"btn border border-indigo-500 p-1 px-4 font-semibold cursor-pointer text-gray-200 ml-2 bg-indigo-500",children:"Post"})]})]})]})},k=a(23),C=Object(k.b)((function(e,t){return void 0===e?{user:null}:"LOGIN"===t.type?Object(y.a)(Object(y.a)({},e),{},{user:t.user}):"LOGOUT"===t.type?Object(y.a)(Object(y.a)({},e),{},{user:null}):"GET_RECENT"===t.type?Object(y.a)(Object(y.a)({},e),{},{recent:t.recent}):"USER_UPDATED"===t.type?Object(y.a)(Object(y.a)({},e),{},{user:t.user}):void 0}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),S=function(e){for(var t="",a=0;a<e.length;a++){if(a+1===e.length){t+=e[a];break}t+="".concat(e[a],", ")}return t},M=function(e){return e.substr(0,10)},D=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)([]),o=Object(u.a)(c,2),l=o[0],m=o[1],x=Object(s.useState)(),j=Object(u.a)(x,2),h=j[0],f=j[1],p=Object(s.useState)(""),O=Object(u.a)(p,2),w=O[0],k=O[1],M=Object(b.e)();Object(s.useEffect)((function(){C.getState().user||M.push({pathname:"/Movie_RnR/login"})}),[]);var D=function(){var e=Object(d.a)(i.a.mark((function e(t){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a){e.next=4;break}return alert("Please input title."),e.abrupt("return");case 4:if(0!==l.length){e.next=7;break}return alert("Please select at least one genre."),e.abrupt("return");case 7:if(void 0!==h){e.next=10;break}return alert("Please input rates."),e.abrupt("return");case 10:if(""!==w){e.next=13;break}return alert("Please input overview."),e.abrupt("return");case 13:if(r=S(l),s={title:a,genres:r,rates:h,overview:w},!(h>10)){e.next=19;break}return alert("Rates must be lower than 10 !"),console.log(t.target),e.abrupt("return");case 19:return e.next=21,g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/post"),Object(y.a)({},s),{withCredentials:!0}).then((function(e){M.push("/post/".concat(e.data.data[0].id))})).catch((function(e){"not login"===e.response.data.error&&(C.dispatch({action:"LOGOUT"}),M.push({pathname:"/login"}))}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(N,{onSubmit:D,onChange:function(e){switch(e.currentTarget.name){case"title":n(e.currentTarget.value);break;case"rates":""===e.currentTarget.value?f(void 0):f(+e.currentTarget.value);break;case"overview":k(e.currentTarget.value)}},onCheck:function(e){if(e.target.checked){var t=e.target.name;m([].concat(Object(v.a)(l),[t]))}else{var a=e.target.name;m(Object(v.a)(l).filter((function(e){return e!==a})))}},overview:w})},T=function(e){for(var t=e.id,a=e.title,s=e.genres,n=e.rates,c=e.overview,o=e.commentCount,l=[],i=0;i<5;i++)1<=n/2-i?l.push(Object(r.jsx)("i",{className:"fas fa-star"})):0<n/2-i?l.push(Object(r.jsx)("i",{className:"fas fa-star-half-alt"})):l.push(Object(r.jsx)("i",{className:"far fa-star"}));return Object(r.jsxs)("div",{className:"wrapper max-w-xs rounded-b-md shadow-2xl overflow-hidden mx-6 my-10 relative break-words  flex flex-col justify-between border ",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:"w-320 h-160",src:function(){var e;switch(Math.floor(10*Math.random())){case 0:e="https://images.unsplash.com/photo-1523207911345-32501502db22?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80";break;case 1:e="https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80";break;case 2:e="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1351&q=80";break;case 3:e="https://images.unsplash.com/photo-1561722798-9a732d141027?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1267&q=80";break;case 4:e="https://images.unsplash.com/photo-1535016120720-40c646be5580?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80";break;case 5:e="https://images.unsplash.com/photo-1509564324749-471bd272e1ff?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1950&q=80";break;case 6:e="https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1340&q=80";break;case 7:e="https://images.unsplash.com/photo-1478720568477-152d9b164e26?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80";break;case 8:e="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1351&q=80";break;case 9:e="https://images.unsplash.com/photo-1458053688450-eef5d21d43b3?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1952&q=80"}return e}(),alt:"monta\xf1a",style:{width:"320px",height:"160px"}}),Object(r.jsxs)("div",{className:"p-3 space-y-3 bg-gray-light flex flex-col justify-between ",children:[Object(r.jsx)("h3",{className:"text-gray-700 self-center text-xl font-MyFont mb-3",children:a.length>15?"".concat(a.slice(0,15),"..."):a}),Object(r.jsx)("p",{className:"text-sm text-gray-900 leading-sm font-MyFont",children:s}),Object(r.jsx)("p",{className:"text-base text-gray-900 leading-sm font-MyFont",children:c.length>120?"".concat(c.slice(0,120),"..."):c})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"flex justify-between mx-3 mb-2",children:[Object(r.jsx)("div",{className:"flex items-center justify-between",children:Object(r.jsx)("div",{children:l})}),Object(r.jsxs)("div",{className:"text-gray-darker flex justify-end items-center text-base",children:[Object(r.jsx)("i",{className:"far fa-comment mr-1"}),null===o?0:o]})]}),Object(r.jsxs)(m.b,{to:"/post/".concat(t),className:"bg-gray-dark w-full flex justify-center py-2 text-white transition duration-300 hover:bg-teal-500 items-center font-MyFont",children:[Object(r.jsx)("i",{className:"fas fa-arrow-right mr-5"}),"Go to Detail"]})]})]})},P=function(){return Object(r.jsx)("div",{className:"w-full h-full flex justify-center",children:Object(r.jsx)("div",{className:"text-gray-darker mt-32 sm:mt-32 md:mt-52 lg:mt-80",children:Object(r.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-5x"})})})},H=function(e){var t=e.recent,a=e.loading;return Object(r.jsx)("div",{children:a?Object(r.jsx)(P,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"w-screen text-center text-2xl pt-10 font-MyFont",children:"Recent Postings"}),Object(r.jsx)("div",{className:"flex justify-center pt-10 ",children:Object(r.jsx)("div",{className:"flex justify-center flex-wrap md:w-11/12",children:t.map((function(e,t){return Object(r.jsx)(T,Object(y.a)({},e),t)}))})})]})})},E=function(){var e=Object(s.useState)([{}]),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),o=Object(u.a)(c,2),l=o[0],b=o[1],m=function(){var e=Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/post"),{withCredentials:!0}).then((function(e){C.dispatch({type:"GET_RECENT",recent:e.data.data}),n(e.data.data),b(!1)})).catch((function(e){return console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){m()}),[]),Object(r.jsx)(H,{recent:a,loading:l})},G=function(e){var t=e.onChange,a=e.onSubmit,s=e.id,n=e.password;return Object(r.jsx)("div",{className:"flex justify-center pt-0 sm:pt-14",children:Object(r.jsxs)("div",{className:"max-w-md w-full space-y-8 flex items-center flex-col",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{className:"mt-6 text-center text-2xl sm:text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),Object(r.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600"})]}),Object(r.jsxs)("form",{className:"mt-8 space-y-6 w-11/12 flex flex-col items-center",action:"#",method:"POST",onSubmit:a,children:[Object(r.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(r.jsxs)("div",{className:"rounded-md shadow-sm space-y-px pb-2 w-full",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"id",className:"sr-only",children:"ID"}),Object(r.jsx)("input",{id:"id",name:"id",type:"text",autoComplete:"id",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",onChange:t,value:s})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",onChange:t,value:n})]})]}),Object(r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[Object(r.jsxs)("div",{className:"flex items-center",children:[Object(r.jsx)("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),Object(r.jsx)("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),Object(r.jsx)("div",{className:"text-sm",children:Object(r.jsx)("a",{href:"#",className:"font-medium text-black hover:text-indigo-500",children:"Forgot your password?"})})]}),Object(r.jsx)("div",{className:"w-full flex justify-center",children:Object(r.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-bold rounded-md text-white bg-gray-darker hover:bg-black-lighter focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-darker",children:[Object(r.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(r.jsx)("svg",{className:"h-5 w-5 text-white group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),"Sign in"]})})]}),Object(r.jsx)("div",{className:"w-11/12 flex justify-center relative -top-5",children:Object(r.jsx)(m.b,{to:"/join",className:"w-full",children:Object(r.jsxs)("button",{type:"button",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-bold rounded-md text-white bg-gray-darker hover:bg-black-lighter focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-darker",children:[Object(r.jsx)("span",{className:"absolute left-1 inset-y-0 flex items-center pl-3",children:Object(r.jsx)("i",{className:"fas fa-user-plus"})}),"Create a new account"]})})})]})})},_=function(){var e=Object(b.e)(),t=Object(s.useState)(""),a=Object(u.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)(""),l=Object(u.a)(o,2),m=l[0],x=l[1];Object(s.useEffect)((function(){C.getState().user&&e.push({pathname:"/login"})}),[e]);var j=function(){var t=Object(d.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r={id:n,password:m},g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/auth/login"),Object(y.a)({},r),{withCredentials:!0}).then((function(t){C.dispatch({type:"LOGIN",user:t.data.data}),e.push({pathname:"/Movie_RnR/"})})).catch((function(e){"Incorrect id"===e.response.data.error?(x(""),alert("Can't find a user using this ID !")):"Incorrect password"===e.response.data.error&&(x(""),alert("Please check password again !"))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){return function(){c(""),x("")}}),[]),Object(r.jsx)(G,{onSubmit:j,onChange:function(e){switch(e.currentTarget.id){case"id":c(e.currentTarget.value);break;case"password":x(e.currentTarget.value)}},id:n,password:m})},L=function(e){var t=e.onSubmit,a=e.onChange,s=e.idConfirm,n=e.nickConfirm;return Object(r.jsx)("div",{className:"w-screen flex justify-center sm:pt-20",children:Object(r.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2 w-10/12 sm:w-8/12 md:w-6/12 lg:w-5/12 bg-white bg-opacity-50 rounded-lg",children:Object(r.jsx)("form",{action:"#",method:"POST",onSubmit:t,children:Object(r.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[Object(r.jsx)("div",{className:"px-4 py-5 ",children:Object(r.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[Object(r.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(r.jsx)("label",{htmlFor:"id",className:"block text-sm font-medium ",children:"ID"}),Object(r.jsxs)("div",{className:"flex ",children:[Object(r.jsx)("input",{type:"text",name:"id",id:"id",minLength:6,maxLength:13,className:"px-2 mt-1 min-w-10 bg-white h-7 bg-opacity-50 border border-gray-dark focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:!0,onChange:a}),Object(r.jsx)("button",{className:"mx-5 border text-xs border-black px-3 rounded-md",onClick:s,children:"Confirmation"})]})]}),Object(r.jsx)("div",{className:"col-span-6 sm:col-span-3"}),Object(r.jsxs)("div",{className:"col-span-3 sm:col-span-3",children:[Object(r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium ",children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",id:"password",minLength:8,maxLength:13,className:"px-2 mt-1 bg-white h-7 bg-opacity-50 border border-gray-dark focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:!0,onChange:a})]}),Object(r.jsxs)("div",{className:"col-span-3 sm:col-span-3",children:[Object(r.jsx)("label",{htmlFor:"password_check",className:"block text-sm font-medium ",children:"Password Check"}),Object(r.jsx)("input",{type:"password",name:"password_check",id:"password_check",maxLength:13,minLength:8,className:"px-2 mt-1 h-7 bg-white bg-opacity-50 border border-gray-dark focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:!0,onChange:a})]}),Object(r.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(r.jsx)("label",{htmlFor:"nickname",className:"block  text-sm font-medium ",children:"Nickname"}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("input",{type:"text",name:"nickname",id:"nickname",maxLength:10,className:"px-2 min-w-10 mt-1 h-7 bg-white bg-opacity-50 border border-gray-dark focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:!0,onChange:a}),Object(r.jsx)("button",{className:"mx-5 border text-xs border-black px-3 rounded-md",onClick:n,children:"Confirmation"})]})]}),Object(r.jsx)("div",{className:"col-span-6 sm:col-span-3"}),Object(r.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(r.jsx)("label",{htmlFor:"gender",className:"block text-sm font-medium ",children:"Gender"}),Object(r.jsxs)("select",{id:"gender",name:"gender",className:"px-2 mt-1 block w-full py-2 px-3 border border-gray-300 bg-white bg-opacity-50 border border-gray-dark rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,onChange:a,children:[Object(r.jsx)("option",{children:"Man"}),Object(r.jsx)("option",{children:"Woman"})]})]})]})}),Object(r.jsx)("div",{className:"px-4 py-3 bg-gray-light text-right sm:px-6",children:Object(r.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md font-black text-base text-white bg-gray-darker hover:bg-black-lighter focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})})]})})})})},A=function(){var e=Object(b.e)(),t=Object(s.useState)(""),a=Object(u.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)(""),l=Object(u.a)(o,2),m=l[0],x=l[1],j=Object(s.useState)(""),h=Object(u.a)(j,2),f=h[0],p=h[1],O=Object(s.useState)(""),w=Object(u.a)(O,2),v=w[0],y=w[1],N=Object(s.useState)("Man"),k=Object(u.a)(N,2),S=k[0],M=k[1],D=Object(s.useState)(!1),T=Object(u.a)(D,2),P=T[0],H=T[1],E=Object(s.useState)(!1),G=Object(u.a)(E,2),_=G[0],A=G[1];C.getState().user&&e.push({pathname:"/"});var B=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n){e.next=4;break}return alert("Please input id !"),e.abrupt("return");case 4:return e.next=6,g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/join/id"),{id:n}).then((function(e){return 200!==e.status&&console.error(e.data.error),!1===e.data.already?(alert("This ID can be used \ud83d\udc4c"),void H(!0)):void alert("This ID is used already \ud83d\ude25")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/join/nick"),{nickname:v}).then((function(e){return 200!==e.status&&console.error(e.data.error),!1===e.data.already?(alert("This Nickname can be used \ud83d\udc4c"),void A(!0)):void alert("This Nickname is used already \ud83d\ude25")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(d.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),P){t.next=4;break}return alert('Please press Confirmation button to check your "ID" is available'),t.abrupt("return");case 4:if(_){t.next=7;break}return alert('Please press Confirmation button to check your "Nickname" is available'),t.abrupt("return");case 7:if(m===f){t.next=10;break}return alert("Plase Check your passwords are same !"),t.abrupt("return");case 10:return r={id:n,password:m,nickname:v,gender:S},t.next=13,g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/join"),r).then(Object(d.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,alert("Join Successfully!");case 2:g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/auth/login"),{id:r.id,password:r.password},{withCredentials:!0}).then((function(t){C.dispatch({type:"LOGIN",user:t.data.data}),e.push({pathname:"/"})})).catch((function(e){"Incorrect id"===e.response.data.error?(x(""),alert("Can't find a user using this ID !")):"Incorrect password"===e.response.data.error&&(x(""),alert("Please check password again !"))}));case 3:case"end":return t.stop()}}),t)})))).catch((function(e){return console.log(e)}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)(L,{onSubmit:J,onChange:function(e){switch(e.currentTarget.id){case"id":c(e.currentTarget.value);break;case"password":x(e.currentTarget.value);break;case"password_check":p(e.currentTarget.value);break;case"nickname":y(e.currentTarget.value);break;case"gender":M(e.currentTarget.value)}},idConfirm:B,nickConfirm:F})},B=function(e){var t=e.commenter,a=e.contents,n=e.user,c=e.onDelete,o=e.modeToggle,l=e.id,b=e.onChange,x=e.onSave,j=e.nickname,h=(e.comments,e.setComments),f=Object(s.useState)("default"),p=Object(u.a)(f,2),g=p[0],O=p[1],w=Object(s.useState)(a),v=Object(u.a)(w,2),y=v[0],N=v[1];return Object(r.jsxs)(r.Fragment,{children:["default"===g&&Object(r.jsxs)("div",{className:"bg-white rounded-lg p-3  flex flex-col justify-center items-start shadow-lg mb-4 break-words",children:[Object(r.jsxs)("div",{className:"flex flex-row justify-center items-center mr-2 mb-1",children:[Object(r.jsx)("i",{className:"fas fa-user-circle text-xl mr-3"}),Object(r.jsx)(m.b,{className:"text-purple-600 font-semibold text-base text-left hover:underline",to:"/profile/user/".concat(t),children:j})]}),Object(r.jsx)("p",{className:"text-gray-600 text-base text-left break-words w-full",children:a}),t===(null===n||void 0===n?void 0:n.id)&&Object(r.jsxs)("div",{className:"flex justify-end w-full",children:[Object(r.jsx)("button",{className:"mx-2 bg-gray px-3 py-1 rounded-md focus:outline-none",onClick:function(){o(g,O)},children:"Edit"}),Object(r.jsx)("button",{className:"mx-2 bg-gray px-3 py-1 rounded-md focus:outline-none",onClick:Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do you really want to delete this comment?")){e.next=5;break}c(l,h),e.next=6;break;case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)}))),children:"Delete"})]})]}),"edit"===g&&t===(null===n||void 0===n?void 0:n.id)&&Object(r.jsxs)("div",{className:"bg-white rounded-lg p-3  flex flex-col justify-center items-center md:items-start shadow-lg mb-4",children:[Object(r.jsxs)("div",{className:"flex flex-row justify-center items-center mr-2",children:[Object(r.jsx)("i",{className:"fas fa-user-circle text-xl mr-3"}),Object(r.jsx)("h3",{className:"text-purple-600 font-semibold text-base text-left ",children:j})]}),Object(r.jsx)("input",{className:"border-b-2 w-full my-2 border-gray focus:outline-none",type:"text",defaultValue:a,onChange:function(e){b(e.target.value,N)}}),t===(null===n||void 0===n?void 0:n.id)&&Object(r.jsxs)("div",{className:"flex justify-end w-full",children:[Object(r.jsx)("button",{className:"mx-2 bg-gray px-3 py-1 rounded-md focus:outline-none",onClick:function(){x({id:l,commenter:t,contents:y},h),o(g,O)},children:"Save"}),Object(r.jsx)("button",{className:"mx-2 bg-gray px-3 py-1 rounded-md focus:outline-none",onClick:function(e){e.preventDefault(),N(a),o(g,O)},children:"Cancel"})]})]})]})},F=function(){var e=Object(d.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.delete("".concat("https://movie-rnr-server.herokuapp.com","/comment/").concat(t),{withCredentials:!0}).then((function(){var e=+window.location.pathname.split("/")[window.location.pathname.split.length];g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/comment/").concat(e)).then((function(e){console.log(e.data.data),a(e.data.data)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(e,t){if(""===e.contents)return alert("Please input Comment!");g.a.patch("${process.env.REACT_APP_SERVER_URL}/comment/update",Object(y.a)({},e),{withCredentials:!0}).then((function(){var e=+window.location.pathname.split("/")[window.location.pathname.split.length];g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/comment/").concat(e)).then((function(e){console.log(e.data.data),t(e.data.data)})).catch((function(e){return console.log(e)}))}))},q=function(e,t){t(e)},R=function(e,t){t("default"===e?"edit":"default")},V=Object(f.b)((function(e,t){var a=t.commenter,r=t.contents,s=t.user,n=t.setComments,c=t.comments;return{commenter:a,contents:r,onDelete:F,modeToggle:R,user:s,onChange:q,onSave:J,setComments:n,comments:c}}))(B),I=function(e){var t=e.onSubmit,a=e.onChange,s=e.contents,n=e.comments,c=e.user,o=e.setComments;return Object(r.jsx)("div",{children:Object(r.jsxs)("section",{className:"rounded-b-lg  mt-8 ",children:[Object(r.jsxs)("form",{method:"POST",onSubmit:t,children:[Object(r.jsx)("textarea",{name:"contents",className:"w-full shadow-inner p-4 border-0 mb-4 rounded-lg focus:shadow-outline text-sm",placeholder:c?"Leave a comment...":"Please login before leave comment ...",cols:6,rows:6,id:"comment_content",spellCheck:"false",value:s,onChange:a,disabled:!c}),Object(r.jsx)("button",{className:"font-bold py-2 px-4 w-full bg-gray-darker text-lg text-white shadow-md rounded-lg ",type:"submit",disabled:!c,children:"Comment"})]}),0!==n.length&&Object(r.jsx)("div",{className:"mt-10",children:"Comments"}),Object(r.jsx)("div",{id:"task-comments",className:"pt-4",children:n.map((function(e,t){return Object(r.jsx)(V,Object(y.a)(Object(y.a)({id:t,user:c},e),{},{setComments:o,comments:n}),t)}))})]})})},W=function(e){var t=e.movie,a=Object(s.useState)(""),n=Object(u.a)(a,2),c=n[0],o=n[1],l=C.getState().user,b=Object(s.useState)([]),m=Object(u.a)(b,2),x=m[0],j=m[1],h=t.id,f=function(){var e=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==c){e.next=3;break}return e.abrupt("return",alert("Please input Comment!"));case 3:a={movie_id:h,user_id:l.user_id,contents:c},g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/comment"),Object(y.a)({},a),{withCredentials:!0}).then((function(e){g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/comment/").concat(h),{withCredentials:!0}).then((function(e){j(Object(v.a)(e.data.data)),o("")}))})).catch((function(e){return console.error(e)})),o("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/comment/").concat(t.id),{withCredentials:!0}).then((function(e){j(e.data.data)})).catch((function(e){return console.error(e)}))}),[]),Object(r.jsx)(I,{onSubmit:f,onChange:function(e){o(e.currentTarget.value)},contents:c,comments:x,user:l,setComments:j})},X=["Romance","Action","Comedy","Historical","Horror","Sci-Fi","Thriller","Mystery","Animation","Drama"],z=function(e){var t,a=e.movie,s=e.loading,n=e.onDeleteClick,c=e.mode,o=e.modeToggle,l=e.user,i=e.onChange,d=e.onSubmit,u=e.onCheck,b=null===a||void 0===a||null===(t=a.genres)||void 0===t?void 0:t.split(", ");return Object(r.jsx)(r.Fragment,{children:s?Object(r.jsx)(P,{}):a?"read"===c?Object(r.jsx)("div",{className:"flex justify-center pt-10 font-Jua",children:Object(r.jsxs)("div",{className:" w-11/12 lg:w-1/2 md:px-4 lg:px-6 py-5",children:[Object(r.jsxs)("div",{className:"bg-white shadow-xl",children:[Object(r.jsx)("div",{className:"",children:Object(r.jsx)("img",{src:"https://images.pexels.com/photos/956999/milky-way-starry-sky-night-sky-star-956999.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",alt:"",className:"h-56 w-full border-white border-8 hover:opacity-25"})}),Object(r.jsxs)("div",{className:"px-4 py-4 md:px-10",children:[Object(r.jsx)("h1",{className:"text-2xl break-words mb-3 text-center",children:a.title}),Object(r.jsxs)("div",{className:"w-full flex justify-between mb-1",children:[Object(r.jsx)("div",{className:"w-full md:w-1/3 text-md font-medium",children:a.genres}),Object(r.jsxs)("div",{className:"w-full md:w-1/3 text-sm font-medium pt-1 text-right",children:["\u2b50 ",a.rates," / 10"]})]}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:"py-4 break-words text-lg",children:a.overview})}),Object(r.jsxs)("div",{className:"flex flex-wrap justify-between pt-5w-full",children:[Object(r.jsx)("div",{className:"text-sm font-medium",children:M(a.created)}),Object(r.jsxs)(m.b,{className:"text-md font-medium text-gray-dark hover:underline",to:"/profile/user/".concat(a.user.id),children:["by ",a.user.nickname]})]})]}),(null===l||void 0===l?void 0:l.id)===a.user.id?Object(r.jsxs)("div",{className:"flex justify-end",children:[Object(r.jsx)("button",{type:"button",onClick:o,className:"border border-black-light bg-gray text-sm text-gray-darker rounded-md px-6 py-2 m-4 mx-2 transition duration-500 ease select-none hover:bg-gray-light focus:outline-none focus:shadow-outline",children:"Edit"}),Object(r.jsx)("button",{type:"button",onClick:n,className:"border border-black-light bg-gray text-sm text-gray-darker rounded-md px-4 py-2 m-4 mr-4 transition duration-500 ease select-none hover:bg-gray-light focus:outline-none focus:shadow-outline",children:"Delete"})]}):null]}),Object(r.jsx)(W,{movie:a})]})}):Object(r.jsxs)("form",{className:"editor mx-auto w-10/12 flex flex-col rounded text-gray-800 border mt-10 border-gray-dark p-4 shadow-lg max-w-2xl",onSubmit:d,children:[Object(r.jsx)("div",{className:"text-xl py-5 font-bold",children:"Edit Post"}),Object(r.jsx)("label",{children:"Title"}),Object(r.jsx)("input",{name:"title",className:"title bg-gray-100 border border-gray-dark p-2 mb-4 outline-none",spellCheck:"false",placeholder:"Title",type:"text",onChange:i,defaultValue:a.title}),Object(r.jsxs)("div",{className:"bg-gray-200 text-sm mt-3 mb-6 ",children:[Object(r.jsx)("span",{className:"mb-3",children:"Genres"}),Object(r.jsx)("div",{className:"mt-2 flex flex-wrap items-center",children:X.map((function(e,t){return b.includes(e)?Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap",children:[Object(r.jsx)("input",{type:"checkbox",name:e,className:"form-checkbox h-5 w-5 text-gray-600",defaultChecked:!0,onChange:u}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:e})]},t):Object(r.jsxs)("label",{className:"mx-2 whitespace-nowrap",children:[Object(r.jsx)("input",{type:"checkbox",name:e,className:"form-checkbox h-5 w-5 text-gray-600",defaultChecked:!1,onChange:u}),Object(r.jsx)("span",{className:"ml-2 text-gray-700",children:e})]},t)}))})]}),Object(r.jsxs)("div",{className:"bg-gray-200 text-sm mt-3 mb-6 flex flex-col",children:[Object(r.jsx)("span",{className:"mb-2",children:"Rates"}),Object(r.jsx)("input",{type:"number",name:"rates",className:"w-1/3 border border-gray-dark pl-2 py-1",min:0,max:10,placeholder:"* / 10",step:.1,defaultValue:a.rates,onChange:i})]}),Object(r.jsx)("textarea",{name:"overview",className:"description bg-gray-100 sec p-3 h-60 border border-gray-dark outline-none",spellCheck:"false",placeholder:"This movie is ...",defaultValue:a.overview,onChange:i}),Object(r.jsxs)("div",{className:"icons flex text-gray-500 m-2",children:[Object(r.jsxs)("svg",{className:"mr-2 cursor-pointer hover:text-gray-700 border rounded-full p-1 h-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Object(r.jsx)("svg",{className:"mr-2 cursor-pointer hover:text-gray-700 border rounded-full p-1 h-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(r.jsx)("svg",{className:"mr-2 cursor-pointer hover:text-gray-700 border rounded-full p-1 h-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),Object(r.jsx)("div",{className:"count ml-auto text-gray-400 text-xs font-semibold",children:"0/300"})]}),Object(r.jsxs)("div",{className:"buttons flex",children:[Object(r.jsx)("button",{className:"btn border border-gray-dark p-1 px-4 font-semibold cursor-pointer text-gray-500 ml-auto",onClick:o,children:"Cancel"}),Object(r.jsx)("button",{type:"submit",className:"btn border border-gray-dark p-1 px-4 font-semibold cursor-pointer text-gray-200 ml-2 bg-gray-dark",children:"Post"})]})]}):Object(r.jsx)("div",{className:"flex justify-center pt-10",children:Object(r.jsx)("div",{className:" w-11/12 lg:w-1/2 md:px-4 lg:px-6 py-5",children:Object(r.jsxs)("div",{className:"bg-white shadow-xl",children:[Object(r.jsx)("div",{className:"",children:Object(r.jsx)("img",{src:"https://images.pexels.com/photos/956999/milky-way-starry-sky-night-sky-star-956999.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",alt:"",className:"h-56 w-full border-white border-8 hover:opacity-25"})}),Object(r.jsx)("div",{className:"px-4 py-4 md:px-10",children:Object(r.jsx)("h1",{className:"font-bold text-lg",children:"This page is not founded!"})})]})})})})},U=function(e){var t=e.id,a=Object(s.useState)([{}]),n=Object(u.a)(a,2),c=n[0],o=n[1],l=Object(s.useState)(!0),m=Object(u.a)(l,2),x=m[0],j=m[1],h=Object(s.useState)("read"),f=Object(u.a)(h,2),p=f[0],O=f[1],w=Object(s.useState)(""),N=Object(u.a)(w,2),k=N[0],M=N[1],D=Object(s.useState)([]),T=Object(u.a)(D,2),P=T[0],H=T[1],E=Object(s.useState)(void 0),G=Object(u.a)(E,2),_=G[0],L=G[1],A=Object(s.useState)(""),B=Object(u.a)(A,2),F=B[0],J=B[1],q=Object(b.e)(),R=function(){var e=Object(d.a)(i.a.mark((function e(a){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==k){e.next=4;break}return alert("Please input title."),e.abrupt("return");case 4:if(0!==P.length){e.next=7;break}return alert("Please select at least one genre."),e.abrupt("return");case 7:if(void 0!==_){e.next=10;break}return alert("Please input rates."),e.abrupt("return");case 10:if(""!==F){e.next=13;break}return alert("Please input overview."),e.abrupt("return");case 13:if(r=S(P),s={id:+t,title:k,genres:r,rates:_,overview:F},!(_>10)){e.next=18;break}return alert("Rates must be lower than 10 !"),e.abrupt("return");case 18:return e.next=20,g.a.patch("".concat("https://movie-rnr-server.herokuapp.com","/post/update"),Object(y.a)({},s),{withCredentials:!0}).then((function(e){q.push("/post/".concat(e.data.data[0].id)),V(),O("read")})).catch((function(e){return console.error(e)}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/post/").concat(t)).then((function(e){var t=e.data.data.movie[0],a=e.data.data.user[0];o(Object(y.a)(Object(y.a)({},t),{},{user:Object(y.a)({},a)})),M(t.title),H(t.genres.split(", ")),L(+t.rates),J(t.overview),j(!1)})).catch((function(e){return console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!window.confirm("Do you really want to delete this post?")){e.next=7;break}return e.next=5,g.a.delete("".concat("https://movie-rnr-server.herokuapp.com","/post/").concat(t),{withCredentials:!0}).then((function(){return q.push({pathname:"/"})})).catch((function(e){return console.error(e.response.data)}));case 5:e.next=8;break;case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=C.getState().user?C.getState().user:null;return Object(s.useEffect)((function(){V()}),[W]),Object(r.jsx)(z,{movie:c,loading:x,onDeleteClick:I,mode:p,modeToggle:function(){"read"===p?O("edit"):"edit"===p&&O("read")},user:W,onChange:function(e){switch(e.currentTarget.name){case"title":M(e.currentTarget.value);break;case"rates":""===e.currentTarget.value?L(void 0):L(+e.currentTarget.value);break;case"overview":J(e.currentTarget.value)}},onSubmit:R,onCheck:function(e){if(e.target.checked){var t=e.target.name;H([].concat(Object(v.a)(P),[t]))}else{var a=e.target.name;H(Object(v.a)(P).filter((function(e){return e!==a})))}}})},Y=function(e){var t=e.modeHandler,a=e.isMy,s=function(e){document.querySelectorAll(".navbtn").forEach((function(t,a){a===e?t.setAttribute("class","navbtn text-sm p-2 bg-indigo-900 text-white text-center rounded font-bold"):t.setAttribute("class","navbtn text-sm p-2 bg-indigo-200 text-center  rounded font-semibold hover:bg-indigo-700 hover:text-gray-200")}))};return Object(r.jsxs)("div",{className:"col-span-12 w-full px-3 py-6 justify-center flex space-x-4 border-gray border-solid md:space-x-0 md:space-y-4 md:flex-col md:col-span-2 md:justify-start",children:[Object(r.jsx)("button",{onClick:function(e){t("basic"),s(0)},className:"navbtn text-sm p-2 w-full bg-indigo-900 text-white text-center rounded font-bold",children:"Basic Information"}),a&&Object(r.jsx)("button",{onClick:function(){t("edit"),s(1)},className:"navbtn text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200",children:"Edit Profile"}),a&&Object(r.jsx)("button",{onClick:function(){t("pwd"),s(2)},className:"navbtn text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200",children:"Change Password"}),Object(r.jsx)("button",{onClick:function(){t("posts"),s(a?3:1)},className:"navbtn text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200",children:"View Postings"}),a&&Object(r.jsx)("button",{onClick:function(){t("danger"),s(4)},className:"navbtn text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200",children:"Danger Zone"})]})},Q=function(e){var t=e.user;return Object(r.jsx)("div",{className:"px-4 pt-4",children:Object(r.jsxs)("form",{action:"#",className:"flex flex-col space-y-8",children:[Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"Basic Information"})}),Object(r.jsxs)("div",{className:"form-item",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"ID"}),Object(r.jsx)("input",{type:"text",value:t.user_id,className:"w-full appearance-none text-black text-opacity-50 rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200",disabled:!0})]}),Object(r.jsxs)("div",{className:"flex flex-col space-y-4 md:space-y-0 md:flex-row md:space-x-4",children:[Object(r.jsxs)("div",{className:"form-item w-full",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Nickname"}),Object(r.jsx)("input",{type:"text",value:t.nickname,className:"w-full appearance-none text-black text-opacity-50 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 text-opacity-25 ",disabled:!0})]}),Object(r.jsxs)("div",{className:"form-item w-full",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Gender"}),Object(r.jsx)("input",{type:"text",value:t.gender,className:"w-full appearance-none text-black text-opacity-50 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 text-opacity-25 ",disabled:!0})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"More About Me"})}),Object(r.jsxs)("div",{className:"form-item w-full",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Biography"}),Object(r.jsx)("textarea",{cols:30,rows:10,className:"w-full appearance-none text-black text-opacity-50 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 text-opacity-25 ",disabled:!0,value:t.biography})]}),Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"My Social Media"})}),Object(r.jsxs)("div",{className:"form-item flex flex-col",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Instagram"}),Object(r.jsx)("a",{type:"text",target:"_blank",href:t.instagram,rel:"noreferrer",className:"w-full appearance-none text-black  rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  ",children:t.instagram})]}),Object(r.jsxs)("div",{className:"form-item flex flex-col",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Facebook"}),Object(r.jsx)("a",{type:"text",target:"_blank",href:t.facebook,rel:"noreferrer",className:"w-full appearance-none text-black  rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  ",children:t.facebook})]}),Object(r.jsxs)("div",{className:"form-item flex flex-col",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Twitter"}),Object(r.jsx)("a",{type:"text",target:"_blank",href:t.twitter,rel:"noreferrer",className:"w-full appearance-none text-black  rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  ",children:t.twitter})]})]})})},Z=Object(f.b)((function(e,t){return{user:t.user}}))(Q),$=function(e){var t=e.id,a=e.title,s=e.overview,n=e.created,c=e.genres,o=(e.commentCount,e.rates);return Object(r.jsx)("div",{className:"flex w-11/12 bg-white shadow-lg rounded-lg mx-4 mt-4 font-MyFont",children:Object(r.jsxs)("div",{className:"flex items-start px-4 py-6 w-full",children:[Object(r.jsx)("img",{className:"w-12 h-12 rounded-full object-cover mr-4 shadow",src:"https://images.unsplash.com/photo-1605722625766-a4c989c747a4?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80",alt:"avatar"}),Object(r.jsxs)(m.b,{to:"/post/".concat(t),className:"w-9/12 sm:10/12 lg:w-11/12 break-words hover:underline",children:[Object(r.jsxs)("div",{className:"flex items-center justify-between box-border mr-0 w-full",children:[Object(r.jsx)("h2",{className:"text-sm sm:text-lg font-semibold text-gray-900 -mt-1 ",children:a.length>15?"".concat(a.slice(0,15),"..."):a}),Object(r.jsx)("small",{className:"text-sm text-gray-700",children:M(n)})]}),Object(r.jsx)("p",{className:"mt-2 text-gray-700 text-xs sm:text-sm w-full",children:c}),Object(r.jsx)("p",{className:"mt-2 text-gray-700 text-sm sm:text-base w-full",children:s.length>120?"".concat(s.slice(0,120),"..."):s}),Object(r.jsxs)("div",{className:"mt-2 text-gray-700 text-xs w-full flex",children:[Object(r.jsxs)("div",{className:"mr-2",children:[Object(r.jsx)("i",{className:"fas fa-star"})," : ",o]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("i",{className:"far fa-comment"})," : ",o]})]})]})]})})},K=function(e){var t=e.page,a=e.pageHandler,s=e.maxPage;return Object(r.jsxs)("ul",{className:"flex justify-center mt-10 mx-5",children:[t>1&&Object(r.jsx)("li",{className:"mx-1 px-3 py-2 bg-gray-dark text-black rounded-lg ",children:Object(r.jsx)("button",{className:"flex items-center font-bold focus:outline-none",onClick:function(){a(t-1)},children:Object(r.jsx)("span",{className:"mx-1",children:"Previous"})})}),t<s&&Object(r.jsx)("li",{className:"mx-1 px-3 py-2 bg-gray-dark text-black hover:bg-gray-700 hover:text-gray-200 rounded-lg mx-5",children:Object(r.jsx)("button",{className:"flex items-center font-bold focus:outline-none",onClick:function(){a(t+1)},children:Object(r.jsx)("span",{className:"mx-1",children:"Next"})})})]})},ee=function(e){var t=e.posts,a=e.loading,s=e.page,n=e.pageHandler;return Object(r.jsx)(r.Fragment,{children:a?Object(r.jsx)(P,{}):0!==t.length?Object(r.jsxs)("div",{className:"px-4 pt-4",children:[Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"My posts"})}),Object(r.jsxs)("div",{className:"w-full flex flex-col items-center mt-4",children:[t.slice(4*(s-1),4*s).map((function(e,t){return Object(r.jsx)($,Object(y.a)({},e),t)})),Object(r.jsx)(K,{maxPage:t.length/4,page:s,pageHandler:n})]})]}):null})},te=function(e){var t=e.user,a=Object(s.useState)([]),n=Object(u.a)(a,2),c=n[0],o=n[1],l=Object(s.useState)(!0),i=Object(u.a)(l,2),d=i[0],b=i[1],m=Object(s.useState)(1),x=Object(u.a)(m,2),j=x[0],h=x[1];return Object(s.useEffect)((function(){g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/post/user/").concat(t.id),{withCredentials:!0}).then((function(e){o(e.data.data),b(!1)})).catch((function(e){return console.error(e)})),setTimeout((function(){return b(!1)}),1)}),[]),Object(r.jsx)(ee,{posts:c,loading:d,page:j,pageHandler:h})},ae=function(e){var t=e.user,a=e.modeHandler,s=e.mode,n=e.loading;return Object(r.jsx)(r.Fragment,{children:n?null:t&&Object(r.jsxs)("div",{className:"w-full relative mt-10 rounded my-24 overflow-hidden bg-gray",children:[Object(r.jsxs)("div",{className:"top h-64 w-full bg-blue-600 overflow-hidden relative",children:[Object(r.jsx)("img",{src:"https://images.unsplash.com/photo-1503264116251-35a269479413?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80",alt:"",className:"bg w-full h-full object-cover object-center absolute z-0"}),Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center relative h-full bg-gray-darker bg-opacity-50 text-white",children:[Object(r.jsx)("img",{src:"https://images.unsplash.com/photo-1605722625766-a4c989c747a4?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80",alt:"",className:"h-24 w-24 object-cover rounded-full"}),Object(r.jsx)("h1",{className:"text-2xl font-semibold",children:t.nickname})]})]}),Object(r.jsxs)("div",{className:"grid grid-cols-12 bg-gray ",children:[Object(r.jsx)(Y,{isMy:!1,modeHandler:a}),Object(r.jsx)("div",{className:"col-span-12 md:border-solid md:border-l md:border-black md:border-opacity-25 h-full pb-12 md:col-span-10",children:"basic"===s?Object(r.jsx)(Z,{user:t}):Object(r.jsx)(te,{user:t})})]})]})})},re=function(){var e=Object(b.e)(),t=Object(s.useState)(!0),a=Object(u.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)("basic"),l=Object(u.a)(o,2),i=l[0],d=l[1],m=Object(s.useState)({id:5,user_id:"zxcvzxcv",nickname:"zxcvzxcv",gender:"Woman"}),x=Object(u.a)(m,2),j=x[0],h=x[1],f=Object(b.f)();return Object(s.useEffect)((function(){g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/user/").concat(f.id),{withCredentials:!0}).then((function(t){var a,r;h(t.data.data[0]),(null===(a=C.getState().user)||void 0===a?void 0:a.id)===(null===(r=t.data.data[0])||void 0===r?void 0:r.id)&&e.push({pathname:"/profile"}),c(!1)})).catch((function(e){return console.error(e)}))}),[]),Object(r.jsx)(ae,{modeHandler:d,mode:i,user:j,loading:n})},se=function(e){var t=e.user,a=e.nickConfirm,s=e.onSubmit,n=e.onChange,c=e.nickname,o=e.gender,l=e.biography,i=e.instagram,d=e.facebook,u=e.twitter;return Object(r.jsx)("div",{className:"px-4 pt-4",children:Object(r.jsxs)("form",{action:"#",className:"flex flex-col space-y-8",onSubmit:s,children:[Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"Edit Profile"})}),Object(r.jsxs)("div",{className:"form-item",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"ID"}),Object(r.jsx)("input",{type:"text",value:t.user_id,className:"w-full appearance-none text-black  rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200",disabled:!0})]}),Object(r.jsxs)("div",{className:"flex flex-col space-y-4 md:space-y-0 md:flex-row md:space-x-4 ",children:[Object(r.jsxs)("div",{className:"form-item w-full",children:[Object(r.jsx)("label",{className:"text-xl font-Jua ",children:"Nickname"}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("input",{type:"text",id:"nickname",defaultValue:c,onChange:n,className:"w-9/12 appearance-none text-black rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-gray "}),Object(r.jsx)("button",{className:"w-2/12 min-w-5 btn border border-gray-dark p-1  font-semibold cursor-pointer ml-2 bg-gray-dark rounded-md text-sm lg:text-base font-Jua",onClick:a,children:"Confirm"})]})]}),Object(r.jsxs)("div",{className:"form-item w-full",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Gender"}),Object(r.jsxs)("select",{id:"gender",name:"gender",className:"w-full appearance-none text-black rounded shadow py-1.5 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-gray ",required:!0,defaultValue:o,onChange:n,children:[Object(r.jsx)("option",{children:"Man"}),Object(r.jsx)("option",{children:"Woman"})]})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"More About Me"})}),Object(r.jsxs)("div",{className:"form-item w-full",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Biography"}),Object(r.jsx)("textarea",{cols:30,rows:10,className:"w-full appearance-none text-black  rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  ",value:l,id:"biography",onChange:n})]}),Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"My Social Media"})}),Object(r.jsxs)("div",{className:"form-item",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Instagram"}),Object(r.jsx)("input",{type:"text",value:i,className:"w-full appearance-none text-black  rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  ",id:"instagram",onChange:n})]}),Object(r.jsxs)("div",{className:"form-item",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Facebook"}),Object(r.jsx)("input",{type:"text",value:d,className:"w-full appearance-none text-black  rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  ",id:"facebook",onChange:n})]}),Object(r.jsxs)("div",{className:"form-item",children:[Object(r.jsx)("label",{className:"text-xl font-Jua",children:"Twitter"}),Object(r.jsx)("input",{type:"text",value:u,className:"w-full appearance-none text-black  rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  ",id:"twitter",onChange:n})]}),Object(r.jsx)("div",{className:"flex justify-end mr-10",children:Object(r.jsx)("button",{type:"submit",className:"btn border border-gray-dark p-1 px-4 font-semibold cursor-pointer text-gray-200 ml-2 bg-gray-dark",children:"Save"})})]})})},ne=function(e){var t=e.user,a=e.setMode,n=Object(s.useState)(t.nickname),c=Object(u.a)(n,2),o=c[0],l=c[1],b=Object(s.useState)(t.gender),m=Object(u.a)(b,2),x=m[0],j=m[1],h=Object(s.useState)(t.biography?t.biography:""),f=Object(u.a)(h,2),p=f[0],O=f[1],w=Object(s.useState)(t.instagram?t.instagram:"https://instagram.com/"),v=Object(u.a)(w,2),y=v[0],N=v[1],k=Object(s.useState)(t.facebook?t.facebook:"https://facebook.com/"),S=Object(u.a)(k,2),M=S[0],D=S[1],T=Object(s.useState)(t.twitter?t.twitter:"https://twitter.com/"),P=Object(u.a)(T,2),H=P[0],E=P[1],G=Object(s.useState)(!0),_=Object(u.a)(G,2),L=_[0],A=_[1],B=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/join/nick"),{nickname:o}).then((function(e){return 200!==e.status&&console.error(e.data.error),!1===e.data.already?(alert("This Nickname can be used \ud83d\udc4c"),void A(!0)):void alert("This Nickname is used already \ud83d\ude25")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L){e.next=4;break}return alert('Please press Confirmation button to check your "Nickname" is available'),e.abrupt("return");case 4:return r={nickname:o,gender:x,biography:p,instagram:y,facebook:M,twitter:H},e.next=7,g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/user/profile"),r,{withCredentials:!0}).then(function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.dispatch({type:"USER_UPDATED",user:t.data.data[0]});case 2:alert("Updated Complete!"),a("basic"),document.querySelectorAll(".navbtn").forEach((function(e,t){0===t?e.setAttribute("class","navbtn text-sm p-2 w-full bg-indigo-900 text-white text-center rounded font-bold"):e.setAttribute("class","navbtn text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200")})),window.scrollTo(0,0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(se,{user:t,nickConfirm:B,onSubmit:F,onChange:function(e){switch(e.currentTarget.id){case"nickname":A(!1),l(e.currentTarget.value);break;case"gender":j(e.currentTarget.value);break;case"biography":O(e.currentTarget.value);break;case"instagram":N(e.currentTarget.value);break;case"facebook":D(e.currentTarget.value);break;case"twitter":E(e.currentTarget.value)}},nickname:o,gender:x,biography:p,instagram:y,facebook:M,twitter:H})},ce=function(e){e.user;var t=e.password,a=e.newPassword,s=e.newPasswordCheck,n=e.onSubmit,c=e.onChange;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"px-4 pt-4",children:Object(r.jsx)("h3",{className:"text-2xl font-semibold font-Jua",children:"Change Password"})}),Object(r.jsxs)("form",{className:"flex flex-col w-11/12 mx-auto p-4 border border-gray-200 bg-gray mt-10 font-Jua",onSubmit:n,children:[Object(r.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(r.jsx)("label",{htmlFor:"password",className:"mb-1 text-xs sm:text-sm md:text-lg tracking-wide text-gray-600",children:"Current Password"}),Object(r.jsxs)("div",{className:"relative",children:[Object(r.jsx)("div",{className:"absolute flex border border-transparent left-0 top-0 h-full w-10",children:Object(r.jsx)("div",{className:"flex items-center justify-center rounded-tl rounded-bl z-10 bg-gray-100 text-gray-600 text-lg h-full w-full",children:Object(r.jsx)("i",{className:"fas fa-lock"})})}),Object(r.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Current Password",value:t,minLength:8,maxLength:15,onChange:c,className:"text-sm sm:text-base relative w-full border rounded placeholder-gray-400 focus:border-indigo-400 focus:outline-none py-2 pr-2 pl-12"})]})]}),Object(r.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(r.jsx)("label",{htmlFor:"newPassword",className:"mb-1 text-xs sm:text-sm md:text-lg tracking-wide text-gray-600",children:"New Password"}),Object(r.jsxs)("div",{className:"relative",children:[Object(r.jsx)("div",{className:"absolute flex border border-transparent left-0 top-0 h-full w-10",children:Object(r.jsx)("div",{className:"flex items-center justify-center rounded-tl rounded-bl z-10 bg-gray-100 text-black text-lg h-full w-full",children:Object(r.jsx)("i",{className:"fas fa-key"})})}),Object(r.jsx)("input",{id:"newPassword",name:"newPassword",type:"password",placeholder:"New Password",minLength:8,maxLength:15,value:a,onChange:c,className:"text-sm sm:text-base relative w-full border rounded placeholder-gray-400 focus:border-indigo-400 focus:outline-none py-2 pr-2 pl-12"})]}),Object(r.jsxs)("div",{className:"flex flex-col mt-4",children:[Object(r.jsx)("label",{htmlFor:"password",className:"mb-1 text-xs sm:text-sm md:text-lg tracking-wide text-gray-600",children:"New Password Check"}),Object(r.jsxs)("div",{className:"relative",children:[Object(r.jsx)("div",{className:"absolute flex border border-transparent left-0 top-0 h-full w-10",children:Object(r.jsx)("div",{className:"flex items-center justify-center rounded-tl rounded-bl z-10 bg-gray-100 text-gray-600 text-lg h-full w-full",children:Object(r.jsx)("i",{className:"fas fa-check"})})}),Object(r.jsx)("input",{id:"newPasswordCheck",name:"newPasswordCheck",type:"password",placeholder:"New Password Check",maxLength:15,minLength:8,value:s,onChange:c,className:"text-sm sm:text-base relative w-full border rounded placeholder-gray-400 focus:border-indigo-400 focus:outline-none py-2 pr-2 pl-12 ".concat(a!==s&&"border-red-500")})]})]}),a!==s&&Object(r.jsx)("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-base mt-1 ml-1",children:"New password and Check should be same!"})]}),Object(r.jsx)("div",{className:"flex justify-end",children:Object(r.jsx)("button",{type:"submit",className:"btn border border-gray-dark p-1 px-4 font-semibold cursor-pointer text-gray-200 ml-2 bg-gray-dark",children:"Save"})})]})]})},oe=function(e){var t=e.user,a=e.setMode,n=Object(s.useState)(""),c=Object(u.a)(n,2),o=c[0],l=c[1],b=Object(s.useState)(""),m=Object(u.a)(b,2),x=m[0],j=m[1],h=Object(s.useState)(""),f=Object(u.a)(h,2),p=f[0],O=f[1],w=function(){var e=Object(d.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x===p){e.next=3;break}return e.abrupt("return",alert("New Password and New Password Check should be same!"));case 3:return r={password:o,newPassword:x,newPasswordCheck:p},e.next=6,g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/user/password"),r,{withCredentials:!0}).then(function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Updated Complete!"),a("basic"),document.querySelectorAll(".navbtn").forEach((function(e,t){0===t?e.setAttribute("class","navbtn text-sm p-2 w-full bg-indigo-900 text-white text-center rounded font-bold"):e.setAttribute("class","navbtn text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200")})),window.scrollTo(0,0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if("\ud604\uc7ac \ube44\ubc00\ubc88\ud638\ub97c \uc798\ubabb \uc785\ub825\ud558\uc600\uc2b5\ub2c8\ub2e4."===e.response.data.error)return l(""),alert("Please Check Password!")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(ce,{user:t,password:o,newPassword:x,newPasswordCheck:p,onSubmit:w,onChange:function(e){switch(e.currentTarget.id){case"password":l(e.currentTarget.value);break;case"newPassword":j(e.currentTarget.value);break;case"newPasswordCheck":O(e.currentTarget.value)}}})},le=function(e){var t=e.onSubmit;return Object(r.jsxs)("form",{className:"px-4 pt-4 font-Jua",onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)("h3",{className:"text-2xl font-semibold text-red-700 mb-3",children:"Danger Zone"})}),Object(r.jsx)("p",{className:"text-xl",children:"Once you delete your account, there is no going back. Please be certain."}),Object(r.jsx)("button",{className:"px-3 text-lg mt-4 py-1 rounded-md text-red-700 bg-gray-dark border-black hover:bg-red-700 hover:text-white ",children:"Delete your account"})]})},ie=function(){var e=Object(b.e)();return Object(r.jsx)(le,{onSubmit:function(t){t.preventDefault(),window.confirm("Are you sure ? ")&&g.a.delete("".concat("https://movie-rnr-server.herokuapp.com","/user/"),{withCredentials:!0}).then((function(){C.dispatch({type:"LOGOUT"}),alert("Account is deleted completely"),e.push({pathname:"/"})})).catch((function(e){return console.error(e)}))}})},de=function(e){var t=e.user,a=e.modeHandler,s=e.mode,n=e.setMode;return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsxs)("div",{className:"w-full relative mt-10 rounded my-24 overflow-hidden bg-gray",children:[Object(r.jsxs)("div",{className:"top h-64 w-full bg-blue-600 overflow-hidden relative",children:[Object(r.jsx)("img",{src:"https://images.unsplash.com/photo-1503264116251-35a269479413?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80",alt:"",className:"bg w-full h-full object-cover object-center absolute z-0"}),Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center relative h-full bg-gray-darker bg-opacity-50 text-white",children:[Object(r.jsx)("img",{src:"https://images.unsplash.com/photo-1605722625766-a4c989c747a4?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80",alt:"",className:"h-24 w-24 object-cover rounded-full"}),Object(r.jsx)("h1",{className:"text-2xl font-MyFont",children:t.nickname})]})]}),Object(r.jsxs)("div",{className:"grid grid-cols-12 bg-gray ",children:[Object(r.jsx)(Y,{isMy:!0,modeHandler:a}),Object(r.jsx)("div",{className:"col-span-12 md:border-solid md:border-l md:border-black md:border-opacity-25 h-full pb-12 md:col-span-10",children:"basic"===s?Object(r.jsx)(Z,{user:t}):"edit"===s?Object(r.jsx)(ne,{user:t,setMode:n}):"pwd"===s?Object(r.jsx)(oe,{user:t,setMode:n}):"posts"===s?Object(r.jsx)(te,{user:t}):Object(r.jsx)(ie,{})})]})]})})},ue=function(){var e=Object(b.e)(),t=C.getState().user,a=Object(s.useState)("basic"),n=Object(u.a)(a,2),c=n[0],o=n[1];return(null===t||void 0===t?void 0:t.user_id)||e.push({pathname:"/"}),Object(r.jsx)(de,{user:t,modeHandler:o,mode:c,setMode:o})},be=function(e){var t=e.result,a=e.loading,s=e.keyword;return Object(r.jsx)("div",{children:a?Object(r.jsx)(P,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"w-screen text-center text-2xl pt-10 font-MyFont",children:["Search for : ",s]}),Object(r.jsx)("div",{className:"flex justify-center pt-10 ",children:Object(r.jsx)("div",{className:"flex justify-center flex-wrap md:w-11/12",children:0===t.length?Object(r.jsxs)("div",{className:"text-xl font-MyFont",children:["There is no posting for ",s," \ud83d\ude05"]}):null===t||void 0===t?void 0:t.map((function(e){return Object(r.jsx)(T,{id:e.id,title:e.title,genres:e.genres,rates:e.rates,overview:e.overview,commentCount:e.commentCount},e.id)}))})})]})})},me=function(){var e=Object(b.f)().keyword,t=Object(s.useState)([]),a=Object(u.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)(!0),l=Object(u.a)(o,2),i=l[0],d=l[1];return Object(s.useEffect)((function(){g.a.post("".concat("https://movie-rnr-server.herokuapp.com","/search"),{keyword:e},{withCredentials:!0}).then((function(e){c(e.data.data),d(!1)})).catch((function(e){return console.error(e)}))}),[e]),Object(r.jsx)(be,{result:n,loading:i,keyword:e})};a(69);var xe=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];Object(s.useEffect)((function(){g.a.get("".concat("https://movie-rnr-server.herokuapp.com","/auth/login"),{withCredentials:!0}).then(function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.data.user_id){e.next=4;break}n(!0),e.next=7;break;case 4:return e.next=6,C.dispatch({type:"LOGIN",user:t.data.data});case 6:n(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return n(!0)}))}),[]);var c=function(){var e=Object(b.f)().id;return Object(r.jsx)(U,{id:e})},o=Object(s.useState)(C.getState().user),l=Object(u.a)(o,2),x=(l[0],l[1]),j=function(){var e=Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return C.subscribe((function(){var e=C.getState().user;x(e)})),C.subscribe(j),Object(r.jsx)("div",{className:"App",children:a?Object(r.jsxs)(m.a,{children:[Object(r.jsx)(w,{}),Object(r.jsx)(b.a,{exact:!0,path:"/",children:Object(r.jsx)(E,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/create",children:Object(r.jsx)(D,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/login",children:Object(r.jsx)(_,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/join",children:Object(r.jsx)(A,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/post/:id",children:Object(r.jsx)(c,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/profile",children:Object(r.jsx)(ue,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/profile/user/:id",children:Object(r.jsx)(re,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/search/:keyword",children:Object(r.jsx)(me,{})})]}):null})};o.a.render(Object(r.jsx)(f.a,{store:C,children:Object(r.jsx)(xe,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.ff863066.chunk.js.map